#!/usr/bin/env bash

# Description:
# ------------
# Copy necessary files, set permissions and enable service.
#
# lastmod: 2019-07-26T17:36:53+02:00
# Change History:
# ---------------
# - 2019-07-28: add check if run as root
# - 2019-07-26: created

if [ ! "$EUID" -eq 0 ]; then
  printf "[ \e[91mERROR\e[0m ] Run with as root.\n" >&2
  exit 1
fi

cp ./setrandomhostname.service /etc/systemd/system/setrandomhostname.service
chmod 644 /etc/systemd/system/setrandomhostname.service
cp ./setrandomhostname.sh /usr/local/bin/setrandomhostname.sh
chmod 755 /usr/local/bin/setrandomhostname.sh
systemctl enable setrandomhostname
