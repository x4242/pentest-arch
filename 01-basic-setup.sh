#!/usr/bin/env bash

# Description:
# ------------
# Basic config and installation of newly installed Arch.
#
# lastmod: 2019-07-28T18:13:32+02:00
# Change History:
# ---------------
# - 2019-07-28: moved intial parts to new script and renemaed to basic
# - 2019-07-26:
#   - added macchanger
#   - added random hostname part
# - 2019-07-25: added grc + placeholder for random hostname script
# - 2019-07-23:
#   - added diffrent package groups
#   - added mirrorlist ranking
# - 2019-07-22: created

# String definitions for colored printf output
# [ ERROR ] in light red
# [ INFO  ] in light green
# [ INPUT ] in light yellow
STR_ERROR="[ \e[91mERROR\e[0m ]"
STR_INFO="[ \e[92mINFO\e[0m  ]"
STR_INPUT="[ \e[93mINPUT\e[0m ]"

##########################################
# Check if root / sudo
##########################################
if [ "$EUID" -eq 0 ]; then
  printf "%b Do not run with sudo / as root.\n" "${STR_ERROR}" >&2
  exit 1
fi

##########################################
# Install yay from AUR
##########################################
git clone https://aur.archlinux.org/yay.git /tmp/yay
cd /tmp/yay
makepkg -si
rm -rf /tmp/yay


##########################################
# Desktop environment
##########################################
pacman_desktop_pkgs=(
                    lightdm
                    lightdm-gtk-greeter
                    papirus-icon-theme
                    xfce4
                    xfce4-goodies
                    xorg
                    xorg-fonts
                    )

sudo localectl set-x11-keymap de-latin1
sudo systemctl enable lightdm.service


##########################################
# Install fonts
##########################################
sudo pacman -S --needed --noconfirm ttf-croscore
sudo pacman -S --needed --noconfirm ttf-bitstream-vera
sudo pacman -S --needed --noconfirm ttf-dejavu
sudo pacman -S --needed --noconfirm ttf-droid
sudo pacman -S --needed --noconfirm ttf-roboto
sudo pacman -S --needed --noconfirm noto-fonts
sudo pacman -S --needed --noconfirm ttf-liberation
yay -S --noconfirm ttf-ms-win10
yay -S --noconfirm ttf-courier-prime


##########################################
# Mandatory tools
##########################################
pacman -S -needed --noconfirm firefox
